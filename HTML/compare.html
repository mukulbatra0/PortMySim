<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Compare Networks - PortMySim</title>
    <link rel="icon" href="../images/logo.png" type="image/png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="../CSS/common.css" />
    <link rel="stylesheet" href="../CSS/compare-networks.css" />
    <link rel="stylesheet" href="../CSS/loader.css" />
    <!-- Leaflet CSS for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <!-- Leaflet JS and Leaflet Heat for heatmap visualization -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
  </head>
  <body class="bg-dark-1" data-requires-api="true">
    <header class="header">
      <nav class="nav">
        <div class="nav-container">
          <!-- Logo -->
          <div class="logo">
            <a href="index.html">
              <img src="../images/logo.png" alt="PortMySim Logo" />
            </a>
          </div>

          <!-- Main Navigation Links -->
          <div class="nav-elements">
            <ul class="nav-links">
              <li class="nav-item">
                <a href="index.html" class="nav-link" data-transition="fade">Home</a>
              </li>
              <li class="nav-item">
                <a href="how-it-works.html" class="nav-link" data-transition="slide">How It Works</a>
              </li>
              <li class="nav-item">
                <a href="plans.html" class="nav-link">Plans</a>
              </li>
              <li class="nav-item">
                <a href="compare.html" class="nav-link active" data-transition="fade">Compare Networks</a>
              </li>
              <li class="nav-item">
                <a href="about.html" class="nav-link" data-transition="fade">About</a>
              </li>
              <li class="nav-item">
                <a href="contact.html" class="nav-link" data-transition="slide">Contact</a>
              </li>
            </ul>

            <!-- Authentication Buttons -->
            <div class="auth-btns">
              <a href="login.html" class="btn btn-login" data-transition="fade">Login</a>
              <a href="signup.html" class="btn btn-signup" data-transition="zoom">Sign Up</a>
            </div>
          </div>

          <!-- Hamburger Menu for Mobile -->
          <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>
        </div>
      </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content">
        <div class="hero-text content-transition" data-animation="slide-up" data-delay="0.2s">
          <h1>Compare Network Coverage</h1>
          <p>
            Find the best mobile network for your location. Get detailed insights on speed, coverage, and reliability.
          </p>
          <div class="hero-buttons">
            <a href="#network-comparison-section" class="hero-btn primary">
              <i class="fas fa-signal"></i> Compare Now
            </a>
            <a href="plans.html" class="hero-btn secondary">
              <i class="fas fa-mobile-alt"></i> View Plans
            </a>
          </div>
        </div>
        <div class="hero-visual content-transition" data-animation="fade-in" data-delay="0.4s">
          <div class="floating-network-icon icon-jio">
            <img src="../images/jio.jpeg" alt="Jio" />
          </div>
          <div class="floating-network-icon icon-airtel">
            <img src="../images/airtel.png" alt="Airtel" />
          </div>
          <div class="floating-network-icon icon-vi">
            <img src="../images/vi.png" alt="Vi" />
          </div>
          <div class="signal-waves">
            <div class="wave wave-1"></div>
            <div class="wave wave-2"></div>
            <div class="wave wave-3"></div>
          </div>
        </div>
      </div>
      <div class="hero-shape-divider">
        <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
          <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
        </svg>
      </div>
    </section>

    <!-- Network Comparison Section -->
    <section id="network-comparison-section" class="network-comparison-section">
      <div class="container">
        <div class="section-title content-transition" data-animation="slide-up">
          <h2>Find the Best Network for Your Location</h2>
          <p>Enter your location to see which network offers the best coverage, speed and reliability in your area</p>
        </div>
        
        <!-- Location Search Form -->
        <div class="comparison-filters content-transition" data-animation="fade-in" data-delay="0.3s">
          <div class="location-search-wrapper">
            <input type="text" class="location-search" id="location-search" placeholder="Enter your city, locality or area..." />
            <button type="button" class="location-search-btn" id="location-search-btn">
              <i class="fas fa-search"></i>
            </button>
            <button type="button" class="user-location-btn" id="user-location-btn" title="Use your current location">
              <i class="fas fa-map-marker-alt"></i>
            </button>
            <div class="location-suggestions" id="location-suggestions">
              <!-- Suggestions will be dynamically populated -->
              <div class="location-suggestion-item">New Delhi</div>
              <div class="location-suggestion-item">Mumbai</div>
              <div class="location-suggestion-item">Chennai</div>
              <div class="location-suggestion-item">Kolkata</div>
              <div class="location-suggestion-item">Bangalore</div>
            </div>
          </div>
          
          <button type="button" id="compare-btn" class="compare-btn content-transition" data-animation="fade-in" data-delay="0.4s">
            <i class="fas fa-chart-bar"></i> Compare Networks
          </button>
        </div>
        
        <!-- India Map Container -->
        <div class="india-map-container content-transition" data-animation="fade-in" data-delay="0.5s">
          <div class="map-title">Network Coverage Map</div>
          <p class="map-description">See which network provides the best coverage in your area. Toggle between networks to compare.</p>
          
          <div class="map-controls">
            <div class="network-selector">
              <label for="network-select">Select Network:</label>
              <select id="network-select" class="map-select">
                <option value="jio">Jio</option>
                <option value="airtel">Airtel</option>
                <option value="vi">Vi</option>
                <option value="all">Compare All</option>
              </select>
            </div>
            
            <div class="coverage-type-options">
              <label class="radio-label">
                <input type="radio" name="coverage-type" value="4g" checked />
                <span>4G</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="coverage-type" value="5g" />
                <span>5G</span>
              </label>
            </div>

            <div class="tower-visualization-controls">
              <label class="toggle-label">
                <input type="checkbox" id="show-towers" />
                <span>Show Nearby Towers</span>
              </label>
              <div class="tower-radius-control">
                <label for="tower-radius">Search Radius (km):</label>
                <input type="range" id="tower-radius" min="1" max="10" value="5" />
                <span id="radius-value">5 km</span>
              </div>
            </div>
          </div>
          
          <div id="india-map-svg-container" class="content-transition" data-animation="fade-in" data-delay="0.6s">
            <!-- Interactive Map will be inserted here via JavaScript -->
            <div id="coverage-map" class="coverage-map map-fixed-container"></div>
            
            <!-- Map Legend - nPerf style -->
            <div class="map-legend" id="map-legend">
              <h4>Network Coverage</h4>
              <div class="legend-item">
                <div class="legend-color" style="background-color: #E53935;"></div>
                <span>Jio</span>
              </div>
              <div class="legend-item">
                <div class="legend-color" style="background-color: #1E88E5;"></div>
                <span>Airtel</span>
              </div>
              <div class="legend-item">
                <div class="legend-color" style="background-color: #7B1FA2;"></div>
                <span>Vi</span>
              </div>
              <h4 style="margin-top: 10px;">Signal Strength</h4>
              <div class="legend-item">
                <div class="legend-color signal-strength-high"></div>
                <span>Strong (80-100%)</span>
              </div>
              <div class="legend-item">
                <div class="legend-color signal-strength-medium"></div>
                <span>Medium (50-79%)</span>
              </div>
              <div class="legend-item">
                <div class="legend-color signal-strength-low"></div>
                <span>Weak (0-49%)</span>
              </div>
            </div>
            
            <!-- Layer Opacity Control - nPerf style -->
            <div class="layer-opacity-control" id="layer-opacity-control">
              <h4>Coverage Opacity</h4>
              <input type="range" id="coverage-opacity" class="opacity-slider" min="0" max="100" value="70">
            </div>
          </div>
          
          <div class="map-info-panel">
            <div class="selected-state-info">
              <h4>Select a location to see detailed coverage</h4>
            </div>

            <div class="tower-info-panel" id="tower-info-panel">
              <h4>Nearby Network Towers</h4>
              <div class="tower-count-list" id="tower-count-list">
                <div class="tower-count-item">
                  <img src="../images/jio.jpeg" alt="Jio" class="network-icon">
                  <div class="count" id="jio-tower-count">0</div>
                  <div class="label">Jio Towers</div>
                </div>
                <div class="tower-count-item">
                  <img src="../images/airtel.png" alt="Airtel" class="network-icon">
                  <div class="count" id="airtel-tower-count">0</div>
                  <div class="label">Airtel Towers</div>
                </div>
                <div class="tower-count-item">
                  <img src="../images/vi.png" alt="Vi" class="network-icon">
                  <div class="count" id="vi-tower-count">0</div>
                  <div class="label">Vi Towers</div>
                </div>
              </div>
            </div>
            
            <div class="map-legend-secondary">
              <div class="legend-item">
                <div class="legend-color excellent-coverage"></div>
                <div class="legend-text">Excellent</div>
              </div>
              <div class="legend-item">
                <div class="legend-color good-coverage"></div>
                <div class="legend-text">Good</div>
              </div>
              <div class="legend-item">
                <div class="legend-color average-coverage"></div>
                <div class="legend-text">Average</div>
              </div>
              <div class="legend-item">
                <div class="legend-color limited-coverage"></div>
                <div class="legend-text">Limited</div>
              </div>
            </div>
          </div>
          
          <div class="map-tooltip">
            <div class="tooltip-header">
              <h5>Coverage Details</h5>
            </div>
            <div class="tooltip-content">
              <div class="tooltip-coverage">
                <span class="network-name">Network</span>
                <span class="coverage-level">Coverage</span>
              </div>
              <div class="tooltip-signal">
                Signal Strength: <span>85%</span>
              </div>
            </div>
          </div>
          
          <div class="map-zoom-controls">
            <button class="zoom-button" id="zoom-in">
              <i class="fas fa-plus"></i>
            </button>
            <button class="zoom-button" id="zoom-out">
              <i class="fas fa-minus"></i>
            </button>
          </div>
        </div>

        <!-- Networks Comparison Cards -->
        <div class="networks-grid content-transition" data-animation="fade-in" data-delay="0.7s">
          <!-- Jio Card -->
          <div class="network-card animate-on-scroll" data-operator="jio">
            <div class="network-logo">
              <img src="../images/jio.jpeg" alt="Jio" />
            </div>
            <h3 class="network-name">Jio</h3>
            <div class="network-type">5G Ready</div>
            <div class="network-rating">
              <div class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
              </div>
              <div class="rating-value">4.5/5</div>
            </div>
            <ul class="network-features">
              <li class="feature-item"><i class="fas fa-check-circle"></i> Widest 5G coverage</li>
              <li class="feature-item"><i class="fas fa-check-circle"></i> High speeds in urban areas</li>
              <li class="feature-item"><i class="fas fa-check-circle"></i> Good value plans</li>
            </ul>
            <div class="network-actions">
              <a href="#" class="view-details-btn">View Coverage Details <i class="fas fa-arrow-right"></i></a>
            </div>
          </div>
          
          <!-- Airtel Card -->
          <div class="network-card animate-on-scroll delay-200" data-operator="airtel">
            <div class="network-logo">
              <img src="../images/airtel.png" alt="Airtel" />
            </div>
            <h3 class="network-name">Airtel</h3>
            <div class="network-type">5G Ready</div>
            <div class="network-rating">
              <div class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
              <div class="rating-value">4.8/5</div>
            </div>
            <ul class="network-features">
              <li class="feature-item"><i class="fas fa-check-circle"></i> Best call quality</li>
              <li class="feature-item"><i class="fas fa-check-circle"></i> Reliable connectivity</li>
              <li class="feature-item"><i class="fas fa-check-circle"></i> Excellent rural coverage</li>
            </ul>
            <div class="network-actions">
              <a href="#" class="view-details-btn">View Coverage Details <i class="fas fa-arrow-right"></i></a>
            </div>
          </div>
          
          <!-- Vi Card -->
          <div class="network-card animate-on-scroll delay-400" data-operator="vi">
            <div class="network-logo">
              <img src="../images/vi.png" alt="Vi" />
            </div>
            <h3 class="network-name">Vi</h3>
            <div class="network-type">4G/5G</div>
            <div class="network-rating">
              <div class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
              </div>
              <div class="rating-value">4.0/5</div>
            </div>
            <ul class="network-features">
              <li class="feature-item"><i class="fas fa-check-circle"></i> Great entertainment bundles</li>
              <li class="feature-item"><i class="fas fa-check-circle"></i> Weekend data benefits</li>
              <li class="feature-item"><i class="fas fa-check-circle"></i> Affordable pricing</li>
            </ul>
            <div class="network-actions">
              <a href="#" class="view-details-btn">View Coverage Details <i class="fas fa-arrow-right"></i></a>
            </div>
          </div>
        </div>
        
        <!-- Comparison Table Container -->
        <div class="comparison-table-container content-transition" data-animation="fade-in" data-delay="0.8s">
          <h3>Detailed Network Comparison</h3>
          <p>Below is a side-by-side comparison of network performance in your selected area</p>
          
          <div class="selected-networks">
            <div class="selected-network" data-operator="jio">
              <img src="../images/jio.jpeg" alt="Jio" />
              <span>Jio</span>
              <button type="button" class="remove-network-btn" data-operator="jio"><i class="fas fa-times"></i></button>
            </div>
            <div class="selected-network" data-operator="airtel">
              <img src="../images/airtel.png" alt="Airtel" />
              <span>Airtel</span>
              <button type="button" class="remove-network-btn" data-operator="airtel"><i class="fas fa-times"></i></button>
            </div>
            <div class="selected-network" data-operator="vi">
              <img src="../images/vi.png" alt="Vi" />
              <span>Vi</span>
              <button type="button" class="remove-network-btn" data-operator="vi"><i class="fas fa-times"></i></button>
            </div>
          </div>
          
          <div class="comparison-table">
            <table>
              <thead>
                <tr>
                  <th>Feature</th>
                  <th>Jio</th>
                  <th>Airtel</th>
                  <th>Vi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="feature-name">4G Coverage</td>
                  <td class="feature-value">98%</td>
                  <td class="feature-value best">99%</td>
                  <td class="feature-value">92%</td>
                </tr>
                <tr>
                  <td class="feature-name">5G Coverage</td>
                  <td class="feature-value best">85%</td>
                  <td class="feature-value">80%</td>
                  <td class="feature-value">60%</td>
                </tr>
                <tr>
                  <td class="feature-name">Avg. Download Speed</td>
                  <td class="feature-value">25 Mbps</td>
                  <td class="feature-value best">30 Mbps</td>
                  <td class="feature-value">20 Mbps</td>
                </tr>
                <tr>
                  <td class="feature-name">Avg. Upload Speed</td>
                  <td class="feature-value">10 Mbps</td>
                  <td class="feature-value best">12 Mbps</td>
                  <td class="feature-value">8 Mbps</td>
                </tr>
                <tr>
                  <td class="feature-name">Call Quality</td>
                  <td class="feature-value">Good</td>
                  <td class="feature-value best">Excellent</td>
                  <td class="feature-value">Good</td>
                </tr>
                <tr>
                  <td class="feature-name">Indoor Reception</td>
                  <td class="feature-value">Good</td>
                  <td class="feature-value best">Excellent</td>
                  <td class="feature-value">Average</td>
                </tr>
                <tr>
                  <td class="feature-name">Congestion Handling</td>
                  <td class="feature-value best">Excellent</td>
                  <td class="feature-value">Good</td>
                  <td class="feature-value">Average</td>
                </tr>
                <tr>
                  <td class="feature-name">Customer Satisfaction</td>
                  <td class="feature-value">4.5/5</td>
                  <td class="feature-value best">4.8/5</td>
                  <td class="feature-value">4.0/5</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        
        <!-- District Comparison Section (placeholder - will be populated by JavaScript) -->
        <div class="district-comparison-section content-transition" data-animation="fade-in" data-delay="1.0s" style="display: none;">
          <!-- Content will be dynamically generated by JavaScript -->
        </div>
        
        <!-- Network Coverage Details -->
        <div class="network-basics content-transition" data-animation="fade-in" data-delay="0.9s">
          <div class="network-coverage-info">
            <h3>Coverage Metrics for <span id="selected-location">Your Location</span></h3>
            <p>These metrics represent network performance based on real user experiences and coverage tests</p>
            
            <div class="coverage-metrics">
              <div class="metric-item">
                <div class="metric-label">Jio 4G Coverage</div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 98%"></div>
                </div>
                <div class="metric-value">98%</div>
              </div>
              
              <div class="metric-item">
                <div class="metric-label">Airtel 4G Coverage</div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 99%"></div>
                </div>
                <div class="metric-value">99%</div>
              </div>
              
              <div class="metric-item">
                <div class="metric-label">Vi 4G Coverage</div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 92%"></div>
                </div>
                <div class="metric-value">92%</div>
              </div>
              
              <div class="metric-item">
                <div class="metric-label">Jio 5G Coverage</div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 85%"></div>
                </div>
                <div class="metric-value">85%</div>
              </div>
              
              <div class="metric-item">
                <div class="metric-label">Airtel 5G Coverage</div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 80%"></div>
                </div>
                <div class="metric-value">80%</div>
              </div>
              
              <div class="metric-item">
                <div class="metric-label">Vi 5G Coverage</div>
                <div class="progress-bar">
                  <div class="progress-fill" style="width: 60%"></div>
                </div>
                <div class="metric-value">60%</div>
              </div>
            </div>
          </div>
          
          <div class="network-comparison-info">
            <h5>Network Ranking in Your Area</h5>
            
            <div class="network-ranking">
              <div class="ranking-item top-rank">
                <div class="rank-number">1</div>
                <div class="rank-network">
                  <img src="../images/airtel.png" alt="Airtel" />
                  <span>Airtel</span>
                </div>
                <div class="rank-score">92/100</div>
              </div>
              
              <div class="ranking-item">
                <div class="rank-number">2</div>
                <div class="rank-network">
                  <img src="../images/jio.jpeg" alt="Jio" />
                  <span>Jio</span>
                </div>
                <div class="rank-score">89/100</div>
              </div>
              
              <div class="ranking-item">
                <div class="rank-number">3</div>
                <div class="rank-network">
                  <img src="../images/vi.png" alt="Vi" />
                  <span>Vi</span>
                </div>
                <div class="rank-score">78/100</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Call to Action Section -->
    <section class="cta-section">
      <div class="container">
        <div class="cta-content content-transition" data-animation="fade-in" data-delay="0.3s">
          <h2>Ready to Switch to a Better Network?</h2>
          <p>Port your number seamlessly with PortMySim. Keep your number, choose a better network!</p>
          <div class="cta-buttons">
            <a href="plans.html" class="hero-btn primary">
              <i class="fas fa-mobile-alt"></i> View Plans
            </a>
            <a href="schedule-porting.html" class="hero-btn secondary">
              <i class="fas fa-exchange-alt"></i> Start Porting
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section content-transition" data-animation="fade-in" data-delay="0.3s">
            <h3>PortMySim</h3>
            <p>Making mobile number portability simple and hassle-free.</p>
          </div>
          <div class="footer-section content-transition" data-animation="fade-in" data-delay="0.4s">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="index.html" data-transition="fade">Home</a></li>
              <li><a href="how-it-works.html" data-transition="fade">How It Works</a></li>
              <li><a href="plans.html" data-transition="fade">Plans</a></li>
              <li><a href="compare.html" data-transition="fade">Compare Networks</a></li>
              <li><a href="about.html" data-transition="fade">About</a></li>
              <li><a href="contact.html" data-transition="fade">Contact</a></li>
            </ul>
          </div>
          <div class="footer-section content-transition" data-animation="fade-in" data-delay="0.5s">
            <h3>Contact Us</h3>
            <p>Email: support@portmysim.com</p>
            <p>Phone: +91 1234567890</p>
          </div>
          <div class="footer-section content-transition" data-animation="fade-in" data-delay="0.6s">
            <h3>Support</h3>
            <ul>
              <li><a href="terms-of-service.html" data-transition="fade">Terms & Conditions</a></li>
              <li><a href="privacy-policy.html" data-transition="fade">Privacy Policy</a></li>
              <li><a href="faq.html" data-transition="fade">FAQ</a></li>
              <li><a href="help-center.html" data-transition="fade">Help Center</a></li>
              <li><a href="refund-policy.html" data-transition="fade">Refund Policy</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom content-transition" data-animation="fade-in" data-delay="0.7s">
          <p>
            &copy; <span id="currentYear"></span> PortMySim. All rights
            reserved.
          </p>
        </div>
      </div>
    </footer>

    <!-- Main scripts -->
    <script src="../JS/loader.js"></script>
    <script src="../JS/transitions.js"></script>
    <script src="../JS/common.js"></script>
    <script src="../JS/api.js"></script>
    <script src="../JS/compare.js"></script>
    <!-- Map initialization script -->
    <script>
      // Initialize Leaflet map
      const coverageMap = L.map('coverage-map', {
        center: [20.5937, 78.9629], // Center of India
        zoom: 5,
        zoomControl: false, // We'll use our custom zoom controls
        attributionControl: true
      });
      
      // Add tile layer (map background)
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        maxZoom: 18
      }).addTo(coverageMap);
      
      // Sample city data
      const cities = [
        { name: 'Delhi', coords: [28.7041, 77.1025] },
        { name: 'Mumbai', coords: [19.0760, 72.8777] },
        { name: 'Chennai', coords: [13.0827, 80.2707] },
        { name: 'Kolkata', coords: [22.5726, 88.3639] },
        { name: 'Bangalore', coords: [12.9716, 77.5946] },
        { name: 'Hyderabad', coords: [17.3850, 78.4867] },
        { name: 'Pune', coords: [18.5204, 73.8567] },
        { name: 'Ahmedabad', coords: [23.0225, 72.5714] },
        { name: 'Jaipur', coords: [26.9124, 75.7873] },
        { name: 'Lucknow', coords: [26.8467, 80.9462] }
      ];
      
      // Add major city markers to the map
      cities.forEach(city => {
        L.marker(city.coords, {
          icon: L.divIcon({
            className: 'city-marker',
            html: `<div class="marker-pin"></div><span>${city.name}</span>`,
            iconSize: [30, 42],
            iconAnchor: [15, 42]
          })
        }).addTo(coverageMap).on('click', function() {
          // When a city marker is clicked, update the location search and trigger search
          const locationSearchInput = document.getElementById('location-search');
          if (locationSearchInput) {
            locationSearchInput.value = city.name;
          }
          
          // We'll look for a global searchLocation function
          if (typeof window.searchLocation === 'function') {
            window.searchLocation(city.name);
          } else {
            // Fallback if the function isn't available yet
            coverageMap.flyTo(city.coords, 9);
            
            L.popup()
              .setLatLng(city.coords)
              .setContent(`<h3>${city.name}</h3><p>Click to compare networks</p>`)
              .openOn(coverageMap);
          }
        });
      });
      
      // Make map accessible globally for modules
      window.coverageMap = coverageMap;
      
      // Add custom zoom controls
      const zoomControl = L.control.zoom({
        position: 'bottomright'
      });
      zoomControl.addTo(coverageMap);
      
      // Initialize network layers (will be populated by compare.js)
      window.networkLayers = {
        jio: L.layerGroup().addTo(coverageMap),
        airtel: L.layerGroup().addTo(coverageMap),
        vi: L.layerGroup().addTo(coverageMap)
      };
      
      // When coverage type changes, we'll update the map layers
      window.updateMapLayers = function() {
        const networkSelect = document.getElementById('network-select');
        const selectedNetwork = networkSelect ? networkSelect.value : 'all';
        
        const coverageType = document.querySelector('input[name="coverage-type"]:checked')?.value || '4g';
        
        // Logic to show/hide layers based on selection will be implemented in compare.js
        // This is just a placeholder function that will be overridden
      };
    </script>
    
    <!-- Fix for network cards visibility issue -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Ensure networks-grid and network cards are visible
        setTimeout(function() {
          const networksGrid = document.querySelector('.networks-grid');
          if (networksGrid) {
            networksGrid.style.opacity = '1';
            networksGrid.style.visibility = 'visible';
            networksGrid.style.transform = 'translateY(0)';
            
            // Make all network cards visible
            const cards = networksGrid.querySelectorAll('.network-card');
            cards.forEach(function(card) {
              card.style.opacity = '1';
              card.style.visibility = 'visible';
              card.style.transform = 'translateY(0)';
              card.classList.add('in-view');
            });
            
            // Set up event listeners for the view details buttons
            if (typeof setupViewDetailsButtons === 'function') {
              setupViewDetailsButtons();
            }
          }
        }, 1000);
      });
    </script>
  </body>
</html> 